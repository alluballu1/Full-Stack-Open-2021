{"version":3,"sources":["Components/Names.js","Components/Filter.js","Components/PersonForm.js","Stores/phoneBookStore.js","Components/ErrorMessage.js","App.js","index.js"],"names":["Names","persons","deletion","map","item","index","name","number","onClick","id","Filter","filterValue","filterInput","type","value","onChange","PersonForm","nameValue","nameChangeFunction","numValue","numChangeFunction","submit","onSubmit","url","axios","get","then","response","data","newObject","post","newName","put","tempUrl","toString","delete","ErrorMessage","className","App","useState","setPersons","messageName","setmessageName","visibility","setvisibility","messageType","setmessageType","setNewName","newNum","setNewNum","newFilter","setNewFilter","useEffect","phoneBookStore","people","messageFunct","setTimeout","target","console","log","event","preventDefault","findIndex","document","getElementById","newPerson","tempName","tempPerson","window","confirm","newnumber","indexOf","element","tempIndex","tempArray","filter","statusText","catch","err","deletionFunct","toLowerCase","includes","ReactDOM","render"],"mappings":"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","file":"static/js/main.99354ce7.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Names = ({ persons, deletion }) => {\r\n  return (\r\n    <div>\r\n      <table>\r\n        <tbody>\r\n          {persons.map((item, index) => {\r\n            return (\r\n              <tr key={index}>\r\n                <td>{item.name}</td>\r\n                <td>{item.number}</td>\r\n                <td>\r\n                  <button onClick={() => deletion(item.id, item.name)}>\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Names;\r\n","const Filter = ({ filterValue, filterInput }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{\" \"}\r\n      <input\r\n        type=\"text\"\r\n        value={filterValue}\r\n        onChange={filterInput}\r\n        id={\"filter\"}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","const PersonForm = ({\r\n  nameValue,\r\n  nameChangeFunction,\r\n  numValue,\r\n  numChangeFunction,\r\n  submit,\r\n}) => {\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div>\r\n        name:{\" \"}\r\n        <input\r\n          type=\"text\"\r\n          value={nameValue}\r\n          onChange={nameChangeFunction}\r\n          id={\"name\"}\r\n        />\r\n      </div>\r\n      <div>\r\n        number:{\" \"}\r\n        <input\r\n          type=\"text\"\r\n          value={numValue}\r\n          onChange={numChangeFunction}\r\n          id={\"num\"}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst url = \"http://localhost:3001/api/persons\";\r\n\r\nconst getAllData = () => {\r\n  const request = axios.get(url);\r\n  return request.then((response) => {\r\n    return response.data;\r\n  });\r\n};\r\nconst addPerson = (newObject) => {\r\n  return axios.post(url, newObject);\r\n};\r\n\r\nconst updateNumber = (id, newObject, newName) => {\r\n  return axios.put(`${url}/${id}`, { number: newObject, name: newName });\r\n};\r\nconst deleteNum = (id) => {\r\n  const tempUrl = url + \"/\" + id.toString();\r\n  return axios.delete(tempUrl);\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getAll: getAllData,\r\n  create: addPerson,\r\n  update: updateNumber,\r\n  deleteNum: deleteNum,\r\n};\r\n","import React from \"react\";\r\nimport \"../Stylesheets/styles.css\";\r\nconst ErrorMessage = ({ name, type }) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (type) {\r\n    case \"add\":\r\n      return (\r\n        <div className=\"addmessage\">\r\n          <p className=\"text\">{name} has been added to the database.</p>\r\n        </div>\r\n      );\r\n    case \"missing\":\r\n      return (\r\n        <div className=\"errormessage\">\r\n          <p className=\"text\">\r\n            {name} has already been deleted from the database.\r\n          </p>\r\n        </div>\r\n      );\r\n  }\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import React, { useState, useEffect } from \"react\";\nimport Names from \"./Components/Names\";\nimport Filter from \"./Components/Filter\";\nimport PersonForm from \"./Components/PersonForm\";\nimport phoneBookStore from \"./Stores/phoneBookStore\";\nimport ErrorMessage from \"./Components/ErrorMessage\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [messageName, setmessageName] = useState(\"\");\n  const [visibility, setvisibility] = useState(false);\n  const [messageType, setmessageType] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n\n  const callingFunct = () => {\n    phoneBookStore.getAll().then((people) => setPersons(people));\n  };\n\n  useEffect(() => {\n    callingFunct();\n  }, []);\n\n  const messageFunct = (name, type) => {\n    setmessageName(name);\n    setmessageType(type);\n    setvisibility(true);\n    setTimeout(() => {\n      setvisibility(false);\n    }, 5000);\n  };\n  const submitFunction = (event) => {\n    event.preventDefault();\n    if (\n      persons.findIndex(\n        (item) => item.name === document.getElementById(\"name\").value\n      ) === -1\n    ) {\n      const newPerson = {\n        name: document.getElementById(\"name\").value,\n        number: document.getElementById(\"num\").value,\n      };\n      const tempName = document.getElementById(\"name\").value;\n      phoneBookStore.create(newPerson).then((data) => {\n        console.log(data);\n        const tempPerson = {\n          name: data.data.name,\n          number: data.data.number,\n          id: data.data.id,\n        };\n        setPersons([...persons, tempPerson]);\n        setNewName(\"\");\n        setNewNum(\"\");\n        messageFunct(tempName, \"add\");\n      });\n    } else {\n      if (\n        window.confirm(\n          `${\n            document.getElementById(\"name\").value\n          } is already added to phonebook, do you want to update the number?`\n        ) &&\n        document.getElementById(\"name\") !== \"\" &&\n        document.getElementById(\"num\") !== \"\"\n      ) {\n        const newnumber = document.getElementById(\"num\").value;\n        const indexOf = persons.findIndex(\n          (element) => element.name === document.getElementById(\"name\").value\n        );\n        let tempIndex = persons[indexOf].id;\n        phoneBookStore.update(tempIndex, newnumber, persons[indexOf].name);\n        const tempArray = [...persons];\n        tempArray[indexOf].number = newnumber;\n        setPersons(tempArray);\n      }\n    }\n  };\n\n  // changed the index splicing to filtration\n  const deletionFunct = (item, name) => {\n    console.log(item);\n    setPersons(persons.filter((element) => element.id !== item));\n    if (window.confirm(\"Delete \" + name + \"?\")) {\n      phoneBookStore\n        .deleteNum(item)\n        .then((response) => console.log(response.statusText))\n        .catch((err) => messageFunct(name, \"missing\"));\n    }\n  };\n\n  const inputNameChange = (item) => {\n    setNewName(item.target.value);\n  };\n  const inputNumChange = (item) => {\n    setNewNum(item.target.value);\n    console.log(newNum);\n  };\n  const inputFilterChange = (item) => {\n    setNewFilter(item.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter filterValue={newFilter} filterInput={inputFilterChange} />\n      {!visibility ? null : (\n        <ErrorMessage name={messageName} type={messageType} />\n      )}\n\n      <h2>Add a new</h2>\n      <PersonForm\n        nameValue={newName}\n        nameChangeFunction={inputNameChange}\n        numValue={newNum}\n        numChangeFunction={inputNumChange}\n        submit={submitFunction}\n      />\n      <h2>Numbers</h2>\n      <Names\n        deletion={(value, name) => deletionFunct(value, name)}\n        persons={persons.filter(\n          (item) =>\n            item.name.toLowerCase().includes(newFilter.toLowerCase()) === true\n        )}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}